<div class="history-container">
  <h1 class="d-flex align-items-center gap-2">
    Your Watch History
    <app-info-icon
      tooltipText="View your complete watch history. You can edit watch dates or revisit what youâ€™ve watched."
    ></app-info-icon>
  </h1>

  <p class="hint-muted">
    Your watch history updates every few minutes. Recent changes may take a little while to appear.
  </p>

  <ng-container *ngIf="isLoading">
    <app-loading-spinner text="Loading your history..."></app-loading-spinner>
  </ng-container>

  <app-error-message
    *ngIf="!isLoading && error"
    [message]="error"
    retryText="Retry"
    (retry)="loadHistory(1, 20)"
  ></app-error-message>

  <app-history-panel
    *ngIf="!isLoading && !error && history"
    [history]="history"
    (pageChange)="onPageChange($event)"
  ></app-history-panel>
</div>
